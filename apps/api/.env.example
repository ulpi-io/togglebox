# ============================================================================
# TOGGLEBOX API - Environment Variables
# ============================================================================
# This is a simplified .env.example for the API app
# For complete documentation, see: ../../.env.example
# ============================================================================

# Server Configuration
NODE_ENV=development
PORT=3000

# CORS Configuration
CORS_ORIGIN=*

# Database Selection
# Options: mysql, postgresql, sqlite, mongodb, dynamodb, d1
DB_TYPE=sqlite

# Database URLs (choose based on DB_TYPE)
MYSQL_URL=mysql://<USERNAME>:<PASSWORD>@<HOST>:3306/togglebox
POSTGRES_URL=postgresql://<USERNAME>:<PASSWORD>@<HOST>:5432/togglebox
MONGO_URL=mongodb://<USERNAME>:<PASSWORD>@<HOST>:27017/togglebox
SQLITE_FILE=./data/config.db

# DynamoDB Configuration (for AWS Lambda deployment)
AWS_REGION=us-east-1
DYNAMODB_TABLE=configurations
DYNAMODB_ENDPOINT=http://localhost:8000

# Authentication (ENABLED by default for security)
# Generate secrets with: openssl rand -hex 32
ENABLE_AUTHENTICATION=true
JWT_SECRET=<GENERATE_RANDOM_STRING_MIN_32_CHARS>
JWT_EXPIRES_IN=24h
API_KEY_SECRET=<GENERATE_RANDOM_STRING_MIN_32_CHARS>

# Cache Configuration (optional)
CACHE_ENABLED=true
CACHE_PROVIDER=cloudfront # Options: cloudfront, cloudflare, none
CACHE_TTL=3600 # Browser cache TTL in seconds (default: 1 hour)
CACHE_MAX_AGE=86400 # CDN cache TTL in seconds (default: 24 hours)

# CloudFront Configuration (when CACHE_PROVIDER=cloudfront)
CLOUDFRONT_DISTRIBUTION_ID=

# Cloudflare Configuration (when CACHE_PROVIDER=cloudflare)
CLOUDFLARE_ZONE_ID=
CLOUDFLARE_API_TOKEN=

# Logging
LOG_LEVEL=info

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Email (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
FROM_EMAIL=noreply@togglebox.com
FROM_NAME=Togglebox

# Application URL
APP_URL=http://localhost:3000

# ============================================================================
# DEPLOYMENT NOTES
# ============================================================================
#
# AWS Lambda Deployment (serverless.yml):
#   - Set DB_TYPE=dynamodb
#   - Configure DYNAMODB_TABLE, AWS_REGION
#   - Authentication enforced via VPC/API Gateway Resource Policy
#
# Cloudflare Workers Deployment (wrangler.toml):
#   - Set DB_TYPE=d1
#   - Configure secrets: wrangler secret put JWT_SECRET
#   - ENABLE_AUTHENTICATION=true required (no VPC protection)
#
# Docker/Self-hosted Deployment:
#   - Choose DB_TYPE: mysql, postgresql, sqlite, or mongodb
#   - Configure corresponding DATABASE_URL
#   - Set ENABLE_AUTHENTICATION=true for production
#
# ============================================================================
